(this["webpackJsonppatients-crud"]=this["webpackJsonppatients-crud"]||[]).push([[0],{19:function(e,t,a){},41:function(e,t,a){e.exports=a(63)},46:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(36),r=a.n(l),c=(a(19),a(46),a(40)),s=a(14),u=a(15),o=a(7),m=a(17),d=a(16),h=a(10),p=a(9),E=[{id:0,name:"Manuel",surname:"Pereira",age:30,birth:new Date(1989,1)},{id:1,name:"Eddo",surname:"Park",age:51,birth:new Date(1968,1)},{id:2,name:"Clark",surname:"Syntherion",age:45,birth:new Date(1974,1)},{id:3,name:"Aphex",surname:"Singlar",age:90,birth:new Date(1930,1)}],b=a(24),g=a(25),v=a.n(g),f=a(13),y=(a(33),a(18)),D=a(4),w=a(5),P=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).initialFormState={name:"",surname:"",age:void 0,birth:void 0,isEmpty:!0,isDisabled:!1},n.handleFormSubmit=function(e){e.preventDefault(),n.props.addNewPatient(n.state),n.setState(n.initialFormState),n.props.history.push("/")},n.state=n.initialFormState,n.handleDayChange=n.handleDayChange.bind(Object(o.a)(n)),n}return Object(u.a)(a,[{key:"calculateAge",value:function(e){var t=Date.now()-e.getTime(),a=new Date(t),n=Math.abs(a.getUTCFullYear()-1970);this.setState({age:n})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(b.a)({},n,a))}},{key:"handleDayChange",value:function(e,t,a){var n=a.getInput();this.setState({birth:e,isEmpty:!n.value.trim(),isDisabled:!0===t.disabled}),e&&this.calculateAge(e)}},{key:"render",value:function(){var e=this,t=this.state.birth;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Register a new patient"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.f,color:"slategrey"})),i.a.createElement("div",{className:"input-box"},i.a.createElement("input",{type:"text",required:!0,name:"name",placeholder:"Enter patients name...",value:this.state.name,onChange:function(t){return e.handleInputChange(t)}})),i.a.createElement("div",{className:"input-box"},i.a.createElement("input",{type:"text",required:!0,name:"surname",placeholder:"...surname",value:this.state.surname,onChange:function(t){return e.handleInputChange(t)}})),i.a.createElement("div",{className:"input-box"},i.a.createElement(v.a,{formatDate:y.formatDate,parseDate:y.parseDate,placeholder:"Pick a Date",value:t,onDayChange:this.handleDayChange,dayPickerProps:{initialMonth:new Date(2001,1),selectedDays:t,disabledDays:{after:new Date(f.now)}}})),i.a.createElement("button",{className:"end-form"},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.a,size:"lg"})))))}}]),a}(n.Component),C=Object(p.f)(P),k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).initialState=n.props.location.state.patient,n.handleFormSubmit=function(e){e.preventDefault(),n.props.editPatient(n.state),n.props.history.push("/")},n.state=n.initialState,n.handleDayChange=n.handleDayChange.bind(Object(o.a)(n)),n}return Object(u.a)(a,[{key:"calculateAge",value:function(e){var t=Date.now()-e.getTime(),a=new Date(t),n=Math.abs(a.getUTCFullYear()-1970);this.setState({age:n})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(b.a)({},n,a))}},{key:"handleDayChange",value:function(e,t,a){var n=a.getInput();this.setState({birth:e,isEmpty:!n.value.trim(),isDisabled:!0===t.disabled}),e&&this.calculateAge(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.birth,n=t.isDisabled,l=t.isEmpty;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Editing ",i.a.createElement("span",null,this.state.name," ",this.state.surname)),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.g,color:"slategrey"})),i.a.createElement("div",{className:"input-box"},i.a.createElement("input",{type:"text",required:!0,name:"name",value:this.state.name,onChange:function(t){return e.handleInputChange(t)}})),i.a.createElement("div",{className:"input-box"},i.a.createElement("input",{type:"text",required:!0,name:"surname",value:this.state.surname,onChange:function(t){return e.handleInputChange(t)}})),i.a.createElement("div",{className:"input-box"},l&&"Edit birthday",!l&&!a&&"This day is invalid",a&&n&&"This day is disabled",i.a.createElement(v.a,{formatDate:y.formatDate,parseDate:y.parseDate,value:a,onDayChange:this.handleDayChange,dayPickerProps:{initialMonth:new Date(2001,1),selectedDays:a,disabledDays:{after:new Date(f.now)}}})),i.a.createElement("button",{className:"end-form"},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.a,size:"lg"})))))}}]),a}(n.Component),S=Object(p.f)(k),j=a(39),O=a.n(j),N=Object(p.f)((function(e){var t=e.patientList,a=(e.editPatient,e.deletePatient),n=(e.addNewPatient,e.history);return console.log(t),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Patients List"),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Id"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Surname"),i.a.createElement("th",null,"Age"),i.a.createElement("th",null,"Birth Date"),i.a.createElement("th",null,"Actions"))),i.a.createElement("tbody",null,t.length>0?t.map((function(e){return i.a.createElement("tr",{key:e.id},i.a.createElement("td",{className:"id"},e.id),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.surname),i.a.createElement("td",null,e.age),i.a.createElement("td",null,i.a.createElement(O.a,{format:"DD.MM.YYYY"},e.birth)),i.a.createElement("td",null,i.a.createElement("button",{onClick:function(){return n.push({pathname:"/edit",state:{patient:e}})}},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.b,size:"lg"})))),i.a.createElement("td",null,i.a.createElement("button",{onClick:function(){a(e.id)}},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.e,size:"lg"})))))})):i.a.createElement("tr",null,i.a.createElement("td",null,"No patients yet.")))),i.a.createElement("div",{className:"register-area"},i.a.createElement(h.b,{to:"/add"},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.d,size:"lg"})," Register new patient "))))})),L=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={id:void 0,patient:{},patientList:[]},e.addNewPatient=e.addNewPatient.bind(Object(o.a)(e)),e.deletePatient=e.deletePatient.bind(Object(o.a)(e)),e.editPatient=e.editPatient.bind(Object(o.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({patientList:E})}},{key:"getLastId",value:function(){if(this.state.patientList.length-1<=0)return 0;var e=this.state.patientList.length-1;return this.state.patientList[e].id+1}},{key:"addNewPatient",value:function(e){e.id=this.getLastId(),this.setState({patientList:[].concat(Object(c.a)(this.state.patientList),[e])})}},{key:"editPatient",value:function(e){var t=this.state.patientList.map((function(t){return t.id===e.id?e:t}));this.setState({patientList:t})}},{key:"deletePatient",value:function(e){var t=this.state.patientList.filter((function(t){return t.id!==e}));this.setState({patientList:t}),!0===this.state.editing&&window.location.reload()}},{key:"render",value:function(){var e=this,t=this.state.patientList;return i.a.createElement("div",{className:"container"},i.a.createElement(h.a,null,i.a.createElement("nav",null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(h.b,{to:"/"},i.a.createElement("p",null,i.a.createElement(D.a,{icon:w.c,size:"lg"})))))),i.a.createElement(p.c,null,i.a.createElement(p.a,{exact:!0,path:"/",component:function(){return i.a.createElement(N,{patientList:t,editPatient:e.editPatient,deletePatient:e.deletePatient,addNewPatient:e.addNewPatient})}}),i.a.createElement(p.a,{exact:!0,path:"/add",component:function(){return i.a.createElement(C,{addNewPatient:e.addNewPatient})}}),i.a.createElement(p.a,{exact:!0,path:"/edit",component:function(){return i.a.createElement(S,{patient:e.state.patient,editPatient:e.editPatient})}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.a9a26e46.chunk.js.map